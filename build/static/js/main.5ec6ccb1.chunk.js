(this["webpackJsonpgx-frontend"]=this["webpackJsonpgx-frontend"]||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},55:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),o=a(11),u=a(1),i=a(3),s=a(7),m=a.n(s),d=function(){return m.a.get("/products")},p=function(e){return m.a.get("/products/group/"+e)},f=function(){return m.a.get("/groups")},E=a(10),g=a.n(E),h=a(15),b={login:function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){return m.a.get("/meta")},k=function(e){return m.a.get("/users/"+e)},y=a(31),w=(a(55),function(e){var t=e.product,a=e.handleClose,n=e.show?"modal display-block":"modal display-none";return r.a.createElement("div",{className:n},r.a.createElement("section",{className:"modal-main"},r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",{rowspan:"3"},r.a.createElement("div",{class:"product-image"},r.a.createElement("img",{src:t.imageUrl}))),r.a.createElement("td",null,r.a.createElement("div",{class:"product-name"},t.name),r.a.createElement("div",{class:"product-info"},t.group?t.group.groupName:"Set Name Not Found"),r.a.createElement("div",{class:"product-info"},t.cardNumber),r.a.createElement("div",{class:"product-info"},t.cardRarity))),r.a.createElement("tr",null,r.a.createElement("div",{class:"product-info"},"Market Price: ",t.currentMarketPrice)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("a",{href:t.storeUrl},"TCGPlayer prices"))))),r.a.createElement("button",{onClick:a},"close")))}),O=function(e){var t=e.products,a=Object(n.useState)({key:"cardNumber",direction:"ascending"}),l=Object(i.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(!1),s=Object(i.a)(u,2),m=s[0],d=s[1],p=Object(n.useState)({}),f=Object(i.a)(p,2),E=f[0],g=f[1];if(!t)return r.a.createElement("br",null);var h=function(e){var t="ascending";c.key===e&&"ascending"===c.direction&&(t="descending"),o({key:e,direction:t})},b=function(e){var t=e.product,a=(t.currentMarketPrice-t.previousMarketPrice).toFixed(2),n="black";return a<0?n="red":a>0&&(n="green",a="+"+a),r.a.createElement("font",{color:n},a)},v=function(e){var t=e.product,a=((t.currentMarketPrice-t.previousMarketPrice)/t.previousMarketPrice*100).toFixed(2),n="black";return a<0?n="red":a>0&&(n="green",a="+"+a),r.a.createElement("font",{color:n},a,"%")},k=Object(y.a)(t);if(null!==c){var O=null,P=null;k.sort((function(e,t){if("difference"===c.key?(O=e.currentMarketPrice-e.previousMarketPrice,P=t.currentMarketPrice-t.previousMarketPrice):"percentDifference"===c.key?(O=(e.currentMarketPrice-e.previousMarketPrice)/e.previousMarketPrice,P=(t.currentMarketPrice-t.previousMarketPrice)/t.previousMarketPrice):(O=e[c.key],P=t[c.key]),null===O)return 1;if(null===P)return-1;var a=function(e,t){return"string"===typeof e&&"string"===typeof t?e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"}):e>t?1:e<t?-1:0}(O,P);return a<0?"ascending"===c.direction?-1:1:a>0?"ascending"===c.direction?1:-1:0}))}return r.a.createElement("div",null,r.a.createElement(w,{product:E,show:m,handleClose:function(){d(!1)}}),r.a.createElement("table",{class:"price-list-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("button",{type:"button",onClick:function(){return h("name")}},"Name")),r.a.createElement("th",null,r.a.createElement("button",{type:"button",onClick:function(){return h("cardNumber")}},"Number")),r.a.createElement("th",null,r.a.createElement("button",{type:"button",onClick:function(){return h("currentMarketPrice")}},"Price")),r.a.createElement("th",null,r.a.createElement("button",{type:"button",onClick:function(){return h("difference")}},"Week Change")),r.a.createElement("th",null,r.a.createElement("button",{type:"button",onClick:function(){return h("percentDifference")}},"Week Change (%)")))),r.a.createElement("tbody",null,k.map((function(e){return r.a.createElement("tr",{key:e.productId},r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){g(e),d(!0)}},e.name)),r.a.createElement("td",null,e.cardNumber),r.a.createElement("td",null,e.currentMarketPrice),r.a.createElement("td",null,r.a.createElement(b,{product:e})),r.a.createElement("td",null,r.a.createElement(v,{product:e})))})))))},P=function(e,t){return e.groupName<t.groupName?-1:e.groupName>t.groupName?1:0},j=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(i.a)(c,2),u=o[0],s=o[1],m=Object(n.useState)(0),E=Object(i.a)(m,2),g=(E[0],E[1]),h=Object(n.useState)([]),b=Object(i.a)(h,2),y=b[0],w=b[1],j=Object(n.useState)(null),M=Object(i.a)(j,2),C=M[0],S=M[1],N=Object(n.useState)(null),x=Object(i.a)(N,2),I=x[0],G=x[1],T=function(e){console.log(e),0==e?(console.log("getting all"),d().then((function(e){l(e.data)}))):p(e).then((function(e){l(e.data)}))};Object(n.useEffect)((function(){var e,t=window.localStorage.getItem("loggedInGxUser");if(t){var a=JSON.parse(t);S(a),e=a.id,k(e).then((function(e){s(e.data.watchlist)}))}}),[]),Object(n.useEffect)((function(){T(2594),f().then((function(e){w(e.data.sort(P))})),v().then((function(e){return G(e.data.lastUpdated)}))}),[]);for(var U=0;U<a.length;U++)a[U].currentMarketPrice;return r.a.createElement("div",{align:"center"},r.a.createElement("h1",null,"Current Market Prices"),r.a.createElement("div",null,C?"Logged in as: "+C.username:r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Last updated: ",I),null!==C&&r.a.createElement(O,{products:u}),r.a.createElement("select",{id:"set-selector",name:"sets",onChange:function(e){return t=e.target.value,g(t),T(t),void(document.getElementById("set-selector").value=t);var t}},y.map((function(e){return r.a.createElement("option",{value:e.groupId,key:e.groupId},e.groupName)})),r.a.createElement("option",{value:0,key:0},"All cards (slow!)")),r.a.createElement(O,{products:a}))},M=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"FAQ"),r.a.createElement("h3",null,"What does this site have?"),r.a.createElement("p",null,"This site collates the TCGPlayer market price data for English Pok\xe9mon cards to allow for easier visibility of multiple prices at once. It also allows for users to see the general market value of their collection, or of cards that they are looking to buy in the future, and view the short-term changes of price data.",r.a.createElement("br",null),r.a.createElement("br",null),"Market price data is updated weekly, and the value for the previous week is kept to show the price/percentage difference."),r.a.createElement("h3",null,"What does this site not have?"),r.a.createElement("p",null,"This site does not contain data for",r.a.createElement("ul",null,r.a.createElement("li",null,"graded cards"),r.a.createElement("li",null,"Japanese cards"),r.a.createElement("li",null,"sealed products"),r.a.createElement("li",null,"any non-Pok\xe9mon products"))),r.a.createElement("h3",null,"What are market prices?"),r.a.createElement("p",null,"Market prices are calculated by TCGPlayer based on the sales that take place through their platform. They serve as a good indicator as to what people are willing to pay for a card.",r.a.createElement("br",null),r.a.createElement("br",null),"Market prices do not seem to take condition into account. Generally, even more expensive modern cards will be much more available as near-mint copies, so the market price will hover around there. But for older cards, the near-mint copies will be rarer and more people will settle for lightly played or similar, having to pay a premium for near mint. So if you only want near-mint cards, market prices are more accurate for modern cards than they are for older cards."))},C=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(i.a)(c,2),u=o[0],s=o[1],m=function(){var e=Object(h.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b.login({username:a,password:u});case 4:n=e.sent,window.localStorage.setItem("loggedInGxUser",JSON.stringify(n)),l(""),s(""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),console.log("Wrong credentials");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:m},r.a.createElement("div",null,"username",r.a.createElement("input",{type:"text",value:a,name:"Username",onChange:function(e){var t=e.target;return l(t.value)}})),r.a.createElement("div",null,"password",r.a.createElement("input",{type:"text",value:u,name:"Password",onChange:function(e){var t=e.target;return s(t.value)}})),r.a.createElement("button",{type:"submit"},"login"))};var S=function(){return r.a.createElement("main",null,r.a.createElement("div",null,r.a.createElement(o.b,{to:"/"},"Prices")," \xa0",r.a.createElement(o.b,{to:"/faq"},"FAQ")," \xa0",r.a.createElement(o.b,{to:"/login"},"Login")),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",component:j,exact:!0}),r.a.createElement(u.a,{path:"/faq",component:M}),r.a.createElement(u.a,{path:"/login",component:C})))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(S,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.5ec6ccb1.chunk.js.map