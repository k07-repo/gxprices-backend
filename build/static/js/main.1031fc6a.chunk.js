(this["webpackJsonpgx-frontend"]=this["webpackJsonpgx-frontend"]||[]).push([[0],{149:function(e,t,r){},152:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(23),o=r.n(c),u=r(13),l=r(8),i=r(14),s=r.n(i),d=function(){return s.a.get("/products")},m=function(e){return s.a.get("/products/group/"+e)},p=function(){return s.a.get("/groups")},f=r(6),h=r.n(f),v=r(12),b=null,g={setToken:function(e){b="bearer ".concat(e)},pushToWatchlist:function(){var e=Object(v.a)(h.a.mark((function e(t,r){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},e.next=3,s.a.put("/lists/watchlist/"+r.productId,r.productId,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),pushToCollection:function(){var e=Object(v.a)(h.a.mark((function e(t,r){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},e.next=3,s.a.put("/lists/collection/"+r.productId,r.productId,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),deleteFromWatchlist:function(){var e=Object(v.a)(h.a.mark((function e(t,r){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:b}},e.next=3,s.a.put("/lists/watchlist/delete/"+r,r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),deleteFromCollection:function(){var e=Object(v.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:b}},e.next=3,s.a.put("/lists/collection/delete/"+t,t,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),increment:function(){var e=Object(v.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:b}},e.next=3,s.a.put("/lists/collection/increment/"+t,t,r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),decrement:function(){var e=Object(v.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:b}},e.next=3,s.a.put("/lists/collection/decrement/"+t,t,r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(){return s.a.get("/meta")},k=r(155),w=r(154),y=function(e){var t=e.show,r=e.product,a=e.handleClose;return r?n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,{show:t,onHide:a},n.a.createElement(k.a.Header,{closeButton:!0},n.a.createElement(k.a.Title,null,"Card Information")),n.a.createElement(k.a.Body,null,n.a.createElement("div",null,n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{rowSpan:"3"},n.a.createElement("div",{className:"product-image"},n.a.createElement("img",{src:r.imageUrl,alt:r.name}))),n.a.createElement("td",null,n.a.createElement("div",{className:"product-name"},r.name),n.a.createElement("div",{className:"product-info"},r.group?r.group.groupName:"Set Name Not Found"),n.a.createElement("div",{className:"product-info"},r.cardNumber),n.a.createElement("div",{className:"product-info"},r.cardRarity))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("div",{className:"product-info"},"Market Price: ",r.currentMarketPrice))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("a",{href:r.storeUrl},"TCGPlayer prices"))))))),n.a.createElement(k.a.Footer,null,n.a.createElement(w.a,{variant:"primary",onClick:a},"Close")))):null},x=function(e,t,r,a,n,c){var o=n.product.currentMarketPrice-n.product.previousMarketPrice,u=c.product.currentMarketPrice-c.product.previousMarketPrice;return"asc"===r?u-o:o-u},O=function(e,t){var r=(t.product.currentMarketPrice-t.product.previousMarketPrice).toFixed(2),a="black";return r<0?a="red":r>0&&(a="green",r="+"+r),n.a.createElement("font",{color:a},r)},P=function(e,t,r,a,n,c){var o=(n.product.currentMarketPrice-n.product.previousMarketPrice)/n.product.previousMarketPrice,u=(c.product.currentMarketPrice-c.product.previousMarketPrice)/c.product.previousMarketPrice;return"asc"===r?u-o:o-u},j=function(e,t){var r=(100*(t.product.currentMarketPrice-t.product.previousMarketPrice)/t.product.previousMarketPrice).toFixed(2),a="black";return r<0?a="red":r>0&&(a="green",r="+"+r),r+="%",n.a.createElement("font",{color:a},r)},F=function(e,t){return t.product.currentMarketPrice.toFixed(2)},S=function(e,t,r,a,n,c){var o=n.currentMarketPrice-n.previousMarketPrice,u=c.currentMarketPrice-c.previousMarketPrice;return"asc"===r?u-o:o-u},M=function(e,t){var r=(t.currentMarketPrice-t.previousMarketPrice).toFixed(2),a="black";return r<0?a="red":r>0&&(a="green",r="+"+r),n.a.createElement("font",{color:a},r)},N=function(e,t,r,a,n,c){var o=(n.currentMarketPrice-n.previousMarketPrice)/n.previousMarketPrice,u=(c.currentMarketPrice-c.previousMarketPrice)/c.previousMarketPrice;return"asc"===r?u-o:o-u},C=function(e,t){var r=(100*(t.currentMarketPrice-t.previousMarketPrice)/t.previousMarketPrice).toFixed(2),a="black";return r<0?a="red":r>0&&(a="green",r="+"+r),r+="%",n.a.createElement("font",{color:a},r)},I=function(e,t){return t.currentMarketPrice.toFixed(2)},T=r(32),U=r.n(T),L=function(e,t){return e.groupName<t.groupName?-1:e.groupName>t.groupName?1:0},D=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),r=t[0],c=t[1],o=Object(a.useState)([]),u=Object(l.a)(o,2),i=u[0],s=u[1],f=Object(a.useState)(2594),h=Object(l.a)(f,2),v=h[0],b=h[1],k=Object(a.useState)(null),w=Object(l.a)(k,2),x=w[0],O=w[1],P=Object(a.useState)(null),j=Object(l.a)(P,2),F=j[0],T=j[1],D=Object(a.useState)(!1),G=Object(l.a)(D,2),A=G[0],J=G[1],W=Object(a.useState)(null),_=Object(l.a)(W,2),z=_[0],B=_[1],q=function(e){B(e),J(!0)},Q=function(e){0==e?(console.log("getting all"),d().then((function(e){c(e.data)}))):m(e).then((function(e){c(e.data)}))};Object(a.useEffect)((function(){var e=window.localStorage.getItem("LoggedInGxPricesUser");if(e){var t=JSON.parse(e);O(t),g.setToken(t.token)}}),[]),Object(a.useEffect)((function(){Q(2594),p().then((function(e){s(e.data.sort(L))})),E().then((function(e){return T(e.data.lastUpdated)}))}),[]);for(var R=0;R<r.length;R++)r[R].currentMarketPrice;var H=[{dataField:"name",text:"Name",sort:!0,formatter:function(e,t){return n.a.createElement("button",{onClick:function(){return q(t)}},t.name)}},{dataField:"group.groupName",text:"Set",sort:!0},{dataField:"cardNumber",text:"Number",sort:!0},{dataField:"currentMarketPrice",text:"Unit Price",sort:!0,formatter:I},{dataField:"difference",text:"Change",isDummyField:!0,sort:!0,sortFunc:S,formatter:M},{dataField:"percentDifference",text:"Change (%)",isDummyField:!0,sort:!0,sortFunc:N,formatter:C},{dataField:"button",isDummyField:!0,formatter:function(e,t){return n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){return console.log(test)}},"Test"))}}];return n.a.createElement("div",{align:"center"},n.a.createElement("h1",null,"Current Market Prices"),n.a.createElement("div",null,x?"Logged in as: "+x.username:null,n.a.createElement("br",null),"Last updated: ",F),n.a.createElement("select",{id:"set-selector",name:"sets",value:v,onChange:function(e){return t=e.target.value,Q(t),void b(t);var t}},n.a.createElement("option",{value:0,key:0},"All cards (slow!)"),i.map((function(e){return n.a.createElement("option",{value:e.groupId,key:e.groupId},e.groupName)}))),n.a.createElement(y,{product:z,show:A,handleClose:function(){return J(!1)}}),n.a.createElement(U.a,{bootstrap4:!0,keyField:"_id",data:r,columns:H}))},G=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"FAQ"),n.a.createElement("h3",null,"What does this site have?"),n.a.createElement("p",null,"This site collates the TCGPlayer market price data for English Pok\xe9mon cards to allow for easier visibility of multiple prices at once. It also allows for users to see the general market value of their collection, or of cards that they are looking to buy in the future, and view the short-term changes of price data.",n.a.createElement("br",null),n.a.createElement("br",null),"Market price data is updated weekly, and the value for the previous week is kept to show the price/percentage difference."),n.a.createElement("h3",null,"What does this site not have?"),n.a.createElement("p",null,"This site does not contain data for",n.a.createElement("ul",null,n.a.createElement("li",null,"graded cards"),n.a.createElement("li",null,"Japanese cards"),n.a.createElement("li",null,"sealed products"),n.a.createElement("li",null,"any non-Pok\xe9mon products")),"Also, due to technical reasons we do not differentiate between reverse-holo and normal prices. For the very small handful of cards this makes a difference for, you should probably be doing your own external research anyway. This may or may not change in the future."),n.a.createElement("h3",null,"What are market prices?"),n.a.createElement("p",null,"Market prices are calculated by TCGPlayer based on the sales that take place through their platform. They serve as a good indicator as to what people are willing to pay for a card.",n.a.createElement("br",null),n.a.createElement("br",null),"Market prices do not seem to take condition into account. Generally, even more expensive modern cards will be much more available as near-mint copies, so the market price will hover around there. But for older cards, the near-mint copies will be rarer and more people will settle for lightly played or similar, having to pay a premium for near mint. So if you only want near-mint cards, market prices are more accurate for modern cards than they are for older cards."))},A={getUser:function(e){return s.a.get("/users/"+e)},registerUser:function(){var e=Object(v.a)(h.a.mark((function e(t,r){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={username:t,password:r},e.next=3,s.a.post("/users",a);case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},J=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),r=t[0],c=t[1],o=Object(a.useState)(""),u=Object(l.a)(o,2),i=u[0],s=u[1],d=Object(a.useState)(""),m=Object(l.a)(d,2),p=m[0],f=m[1],b=Object(a.useState)(!1),E=Object(l.a)(b,2),k=E[0],w=E[1];Object(a.useEffect)((function(){var e=window.localStorage.getItem("LoggedInGxPricesUser");if(e){var t=JSON.parse(e);g.setToken(t.token)}}),[]);var y=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,A.registerUser(r,i);case 4:e.sent,w(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f("Username already in use!");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",null,k?n.a.createElement("div",null,"Success! Log in with your new credentials."):n.a.createElement("div",null,n.a.createElement("h2",null,"New user? Register here:"),n.a.createElement("form",{onSubmit:y},n.a.createElement("div",null,"Username \xa0 ",n.a.createElement("input",{type:"text",value:r,onChange:function(e){var t=e.target;return c(t.value)}})),n.a.createElement("div",null,"Password \xa0 ",n.a.createElement("input",{type:"text",value:i,name:"Password",onChange:function(e){var t=e.target;return s(t.value)}})),n.a.createElement("div",null,n.a.createElement("p",null,p)),n.a.createElement("button",{type:"submit"},"Register"))))},W=r(42),_=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),r=t[0],c=t[1],o=Object(a.useState)([]),u=Object(l.a)(o,2),i=u[0],s=u[1],d=Object(a.useState)(!1),m=Object(l.a)(d,2),p=m[0],f=m[1],b=Object(a.useState)(null),E=Object(l.a)(b,2),k=E[0],w=E[1],S=function(e){w(e),f(!0)},M=function(){var e=Object(v.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.deleteFromWatchlist(t);case 2:r=e.sent,s(r.watchlist);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=[{dataField:"product.name",text:"Name",sort:!0,formatter:function(e,t){return n.a.createElement("button",{onClick:function(){return S(t.product)}},t.product.name)}},{dataField:"product.group.groupName",text:"Set",sort:!0},{dataField:"product.cardNumber",text:"Number",sort:!0},{dataField:"product.currentMarketPrice",text:"Unit Price",sort:!0,formatter:F},{dataField:"difference",text:"Change",isDummyField:!0,sort:!0,sortFunc:x,formatter:O},{dataField:"percentDifference",text:"Change (%)",isDummyField:!0,sort:!0,sortFunc:P,formatter:j},{dataField:"quantity",text:"Quantity",sort:!0},{dataField:"button",isDummyField:!0,formatter:function(e,t){return n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){return M(t.product._id)}},n.a.createElement(W.a,null)))}}];Object(a.useEffect)((function(){var e,t=window.localStorage.getItem("LoggedInGxPricesUser");if(t){var r=JSON.parse(t);c(r),e=r.id,A.getUser(e).then((function(e){s(e.data.watchlist)})),g.setToken(r.token)}}),[]);return n.a.createElement("div",{align:"center"},n.a.createElement("h1",null,"Collection"),r?n.a.createElement("div",null,n.a.createElement(y,{product:k,show:p,handleClose:function(){return f(!1)}}),n.a.createElement(U.a,{bootstrap4:!0,keyField:"_id",data:i,columns:N})):n.a.createElement("div",null,"Log in first to see your watchlist! If you just logged in, reload the page."))},z=r(53),B=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),r=t[0],c=t[1],o=Object(a.useState)([]),u=Object(l.a)(o,2),i=u[0],s=u[1],d=Object(a.useState)(null),m=Object(l.a)(d,2),p=m[0],f=m[1],b=Object(a.useState)(!1),E=Object(l.a)(b,2),k=E[0],w=E[1],S=function(e){f(e),w(!0)},M=function(){var e=Object(v.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.deleteFromCollection(t);case 2:r=e.sent,s(r.ownedProducts);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.increment(t);case 2:r=e.sent,s(r.ownedProducts);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(v.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.decrement(t);case 2:r=e.sent,console.log(i),console.log(r.ownedProducts),s(r.ownedProducts);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=[{dataField:"product.name",text:"Name",sort:!0,formatter:function(e,t){return n.a.createElement("button",{onClick:function(){return S(t.product)}},t.product.name)}},{dataField:"product.group.groupName",text:"Set",sort:!0},{dataField:"product.cardNumber",text:"Number",sort:!0},{dataField:"product.currentMarketPrice",text:"Unit Price",sort:!0,formatter:F},{dataField:"difference",text:"Change",isDummyField:!0,sort:!0,sortFunc:x,formatter:O},{dataField:"percentDifference",text:"Change (%)",isDummyField:!0,sort:!0,sortFunc:P,formatter:j},{dataField:"quantity",text:"Quantity",sort:!0},{dataField:"button",isDummyField:!0,formatter:function(e,t){return n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){return N(t.product._id)}},n.a.createElement(z.b,null)),n.a.createElement("button",{onClick:function(){return C(t.product._id)}},n.a.createElement(z.a,null)),n.a.createElement("button",{onClick:function(){return M(t.product._id)}},n.a.createElement(W.a,null)))}}];Object(a.useEffect)((function(){var e,t=window.localStorage.getItem("LoggedInGxPricesUser");if(t){var r=JSON.parse(t);c(r),e=r.id,A.getUser(e).then((function(e){s(e.data.ownedProducts)})),g.setToken(r.token)}}),[]);return n.a.createElement("div",{align:"center"},n.a.createElement("h1",null,"Collection"),r?n.a.createElement("div",null,n.a.createElement(y,{product:p,show:k,handleClose:function(){return w(!1)}}),n.a.createElement(U.a,{bootstrap4:!0,keyField:"_id",data:i,columns:I})):n.a.createElement("div",null,"Log in first to see your collection! If you just logged in, reload the page."))},q=r(22),Q=r(157),R=r(156),H=function(){var e=window.localStorage.getItem("LoggedInGxPricesUser");return e?JSON.parse(e):null},X=function(){window.localStorage.clear()},K={login:function(){var e=Object(v.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("/login",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),r=(t[0],t[1]),c=Object(a.useState)(""),o=Object(l.a)(c,2),u=o[0],i=o[1],s=Object(a.useState)(""),d=Object(l.a)(s,2),m=d[0],p=d[1],f=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),X(),r(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,K.login({username:u,password:m});case 4:a=e.sent,window.localStorage.setItem("LoggedInGxPricesUser",JSON.stringify(a)),g.setToken(a.token),r(a),i(""),p(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),E=H();return n.a.createElement(Q.a,{bg:"light",expand:"lg"},n.a.createElement(Q.a.Brand,{href:"#home"},"GXPrices"),n.a.createElement(Q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(Q.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(R.a,{className:"mr-auto"},n.a.createElement(R.a.Link,{as:q.b,to:"/"},"Prices"),n.a.createElement(R.a.Link,{as:q.b,to:"/watchlist"},"Watchlist"),n.a.createElement(R.a.Link,{as:q.b,to:"/collection"},"Collection"),E?null:n.a.createElement(R.a.Link,{as:q.b,to:"/register"},"Register"),n.a.createElement(R.a.Link,{as:q.b,to:"/faq"},"FAQ")),n.a.createElement(R.a,null,E?function(){var e="";return E&&(e="Logged in as "+E.username+" "),n.a.createElement("form",{onSubmit:f},e,n.a.createElement("button",{type:"submit"},"Logout"))}():n.a.createElement("form",{onSubmit:b},n.a.createElement("input",{id:"username",type:"text",value:u,placeholder:"Username",name:"Username",onChange:function(e){var t=e.target;return i(t.value)}}),"\xa0",n.a.createElement("input",{id:"password",type:"text",value:m,placeholder:"Password",name:"Password",onChange:function(e){var t=e.target;return p(t.value)}}),"\xa0",n.a.createElement("button",{type:"submit"},"Log In")))))},Y=function(){return n.a.createElement(Q.a,{fixed:"bottom",bg:"light",expand:"lg"},n.a.createElement(Q.a.Text,null,"\xa9 2020 GXPrices. Pok\xe9mon is \xa9 Nintendo 1996-2020."),n.a.createElement(Q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(R.a,{className:"mr-auto align-right"}),n.a.createElement(R.a,null,n.a.createElement(R.a.Link,{as:q.b,to:"/privacy"},"Privacy Policy")))},Z=function(){return n.a.createElement("div",{className:"wrapper"},n.a.createElement("h1",null,"Privacy Policy"),n.a.createElement("p",null,"This site in itself does not store any data about you or your computer."),n.a.createElement("p",null,"This site will store the items you add to your collection and watchlist in its database. This data is not sold or given out to any third parties. If you delete your account this data will be automatically removed from the database."))},$=(r(149),r(150),r(151),function(){return n.a.createElement("main",null,n.a.createElement(V,null),n.a.createElement(u.c,null,n.a.createElement(u.a,{path:"/",component:D,exact:!0}),n.a.createElement(u.a,{path:"/faq",component:G}),n.a.createElement(u.a,{path:"/register",component:J}),n.a.createElement(u.a,{path:"/watchlist",component:_}),n.a.createElement(u.a,{path:"/collection",component:B}),n.a.createElement(u.a,{path:"/privacy",component:Z})),n.a.createElement(Y,null))});o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(q.a,null,n.a.createElement($,null))),document.getElementById("root"))},83:function(e,t,r){e.exports=r(152)}},[[83,1,2]]]);
//# sourceMappingURL=main.1031fc6a.chunk.js.map